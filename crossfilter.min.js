(function(){function a(a,b){function e(a){a=a.replace(/\./,"crossfilter");var b=c.m[a];return b}var c=window.vaccine||(window.vaccine={w:{},m:{},s:function(a,b){this.m[a]=b,(this.w[a]||[]).forEach(function(a){a()})}}),d={exports:{}};b(e,d.exports,d),c.s(a,d.exports)}a("crossfilter/version",function(a,b,c){c.exports="1.1.0"}),a("crossfilter/func",function(a,b,c){c.exports=b={identity:function(a){return a},zero:function(){return 0},nil:function(){return null},permute:function(a,b){for(var c=0,d=b.length,e=new Array(d);c<d;++c)e[c]=a[b[c]];return e},reduce:{increment:function(a){return a+1},decrement:function(a){return a-1},add:function(a){return function(b,c){return b+ +a(c)}},subtract:function(a){return function(b,c){return b-a(c)}}},filter:{exact:function(a,b){return function(c){var d=c.length;return[a.left(c,b,0,d),a.right(c,b,0,d)]}},range:function(a,b){var c=b[0],d=b[1];return function(b){var e=b.length;return[a.left(b,c,0,e),a.left(b,d,0,e)]}},all:function(a){return[0,a.length]}}},b.bisect=function(a){function b(b,c,d,e){while(d<e){var g=d+e>>1;a(b[g])<c?d=g+1:e=g}return d}function c(b,c,d,e){while(d<e){var g=d+e>>1;c<a(b[g])?e=g:d=g+1}return d}return c.right=c,c.left=b,c}}),a("crossfilter/sort",function(a,b,c){b.insertionsort=function(a){function b(b,c,d){for(var e=c+1;e<d;++e){for(var g=e,h=b[e],i=a(h);g>c&&a(b[g-1])>i;--g)b[g]=b[g-1];b[g]=h}return b}return b},b.quicksort=function(a){function e(a,b,e){return(e-b<d?c:f)(a,b,e)}function f(b,c,d){var f=(d-c)/6|0,g=c+f,h=d-1-f,i=c+d-1>>1,j=i-f,k=i+f,l=b[g],m=a(l),n=b[j],o=a(n),p=b[i],q=a(p),r=b[k],s=a(r),t=b[h],u=a(t),v;m>o&&(v=l,l=n,n=v,v=m,m=o,o=v),s>u&&(v=r,r=t,t=v,v=s,s=u,u=v),m>q&&(v=l,l=p,p=v,v=m,m=q,q=v),o>q&&(v=n,n=p,p=v,v=o,o=q,q=v),m>s&&(v=l,l=r,r=v,v=m,m=s,s=v),q>s&&(v=p,p=r,r=v,v=q,q=s,s=v),o>u&&(v=n,n=t,t=v,v=o,o=u,u=v),o>q&&(v=n,n=p,p=v,v=o,o=q,q=v),s>u&&(v=r,r=t,t=v,v=s,s=u,u=v);var w=n,x=o,y=r,z=s;b[g]=l,b[j]=b[c],b[i]=p,b[k]=b[d-1],b[h]=t;var A=c+1,B=d-2,C=x<=z&&x>=z;if(C)for(var D=A;D<=B;++D){var E=b[D],F=a(E);if(F<x)D!==A&&(b[D]=b[A],b[A]=E),++A;else if(F>x)for(;;){var G=a(b[B]);if(G>x){B--;continue}if(G<x){b[D]=b[A],b[A++]=b[B],b[B--]=E;break}b[D]=b[B],b[B--]=E;break}}else for(var D=A;D<=B;D++){var E=b[D],F=a(E);if(F<x)D!==A&&(b[D]=b[A],b[A]=E),++A;else if(F>z)for(;;){var G=a(b[B]);if(G>z){B--;if(B<D)break;continue}G<x?(b[D]=b[A],b[A++]=b[B],b[B--]=E):(b[D]=b[B],b[B--]=E);break}}b[c]=b[A-1],b[A-1]=w,b[d-1]=b[B+1],b[B+1]=y,e(b,c,A-1),e(b,B+2,d);if(C)return b;if(A<g&&B>h){var H,G;while((H=a(b[A]))<=x&&H>=x)++A;while((G=a(b[B]))<=z&&G>=z)--B;for(var D=A;D<=B;D++){var E=b[D],F=a(E);if(F<=x&&F>=x)D!==A&&(b[D]=b[A],b[A]=E),A++;else if(F<=z&&F>=z)for(;;){var G=a(b[B]);if(G<=z&&G>=z){B--;if(B<D)break;continue}G<x?(b[D]=b[A],b[A++]=b[B],b[B--]=E):(b[D]=b[B],b[B--]=E);break}}}return e(b,A,B+1)}var c=b.insertionsort(a);return e};var d=32}),a("crossfilter/struct",function(a,b,c){function e(a){return new Array(a)}var d=a("./func").identity;b.heap=function(a){function b(a,b,c){var e=c-b,f=(e>>>1)+1;while(--f>0)d(a,f,e,b);return a}function c(a,b,c){var e=c-b,f;while(--e>0)f=a[b],a[b]=a[b+e],a[b+e]=f,d(a,1,e,b);return a}function d(b,c,d,e){var g=b[--e+c],h=a(g),i;while((i=c<<1)<=d){i<d&&a(b[e+i])>a(b[e+i+1])&&i++;if(h<=a(b[e+i]))break;b[e+c]=b[e+i],c=i}b[e+c]=g}return b.sort=c,b},b.heap.select=function(a){function d(b,d,e,g){var h=new Array(g=Math.min(e-d,g)),i,j,k,l;for(j=0;j<g;++j)h[j]=b[d++];c(h,0,g);if(d<e){i=a(h[0]);do if(k=a(l=b[d])>i)h[0]=l,i=a(c(h,0,g)[0]);while(++d<e)}return h}var c=b.heap(a);return d},b.array8=e,b.array16=e,b.array32=e,b.arrayLengthen=d,b.arrayWiden=d,typeof Uint8Array!="undefined"&&(b.array8=function(a){return new Uint8Array(a)},b.array16=function(a){return new Uint16Array(a)},b.array32=function(a){return new Uint32Array(a)},b.arrayLengthen=function(a,b){var c=new a.constructor(b);return c.set(a),c},b.arrayWiden=function(a,c){var d;switch(c){case 16:d=b.array16(a.length);break;case 32:d=b.array32(a.length);break;default:throw new Error("invalid array width!")}return d.set(a),d})}),a("crossfilter/index",function(a,b,c){function i(a,b){return(b<257?e.array8:b<65537?e.array16:e.array32)(a)}function j(a){var b=i(a,a);for(var c=-1;++c<a;)b[c]=c;return b}function k(a){return a===8?256:a===16?65536:4294967296}var d=a("./version"),e=a("./struct"),f=a("./sort"),g=a("./func"),h=g.identity;c.exports=b=function(){function q(b){var f=d,g=b.length;return g&&(c=c.concat(b),n=e.arrayLengthen(n,d+=g),p.forEach(function(a){a(b,f,g)})),a}function r(a){function C(b,c,e){v=b.map(a),w=x(j(e),0,e),v=g.permute(v,w);var f=y(v),h=f[0],k=f[1],l;for(l=0;l<h;++l)n[w[l]+c]|=r;for(l=k;l<e;++l)n[w[l]+c]|=r;if(!c){t=v,u=w,A=h,B=k;return}var m=t,o=u,p=0,q=0;t=new Array(d),u=i(d,d);for(l=0;p<c&&q<e;++l)m[p]<v[q]?(t[l]=m[p],u[l]=o[p++]):(t[l]=v[q],u[l]=w[q++]+c);for(;p<c;++p,++l)t[l]=m[p],u[l]=o[p];for(;q<e;++q,++l)t[l]=v[q],u[l]=w[q]+c;f=y(t),A=f[0],B=f[1]}function D(a,b,c){z.forEach(function(a){a(v,w,b,c)}),v=w=null}function E(a){var b,c,d,e=a[0],f=a[1],g=[],h=[];if(e<A)for(b=e,c=Math.min(A,f);b<c;++b)n[d=u[b]]^=r,g.push(d);else if(e>A)for(b=A,c=Math.min(e,B);b<c;++b)n[d=u[b]]^=r,h.push(d);if(f>B)for(b=Math.max(e,B),c=f;b<c;++b)n[d=u[b]]^=r,g.push(d);else if(f<B)for(b=Math.max(A,f),c=B;b<c;++b)n[d=u[b]]^=r,h.push(d);return A=e,B=f,o.forEach(function(a){a(r,g,h)}),q}function F(a){return a==null?I():Array.isArray(a)?H(a):G(a)}function G(a){return E((y=g.filter.exact(b.bisect,a))(t))}function H(a){return E((y=g.filter.range(b.bisect,a))(t))}function I(){return E((y=g.filter.all)(t))}function J(a){var b=[],d=B,e;while(--d>=A&&a>0)n[e=u[d]]||(b.push(c[e]),--a);return b}function K(a){var b=[],d=A,e;while(d<B&&a>0)n[e=u[d]]||(b.push(c[e]),--a),d++;return b}function L(a){function D(b,h,q,r){function P(){++p===m&&(u=e.arrayWiden(u,l<<=1),j=e.arrayWiden(j,l),m=k(l))}var t=f,u=i(p,m),v=w,x=y,z=p,D=0,I=0,J,K,L,M,N,O;C&&(v=x=g.nil),f=new Array(p),p=0,j=z>1?e.arrayLengthen(j,d):i(d,m),z&&(L=(K=t[0]).key);while(I<r&&!((M=a(b[I]))>=M))++I;while(I<r){if(K&&L<=M){N=K,O=L,u[D]=p;if(K=t[++D])L=K.key}else N={key:M,value:x()},O=M;f[p]=N;while(!(M>O)){j[J=h[I]+q]=p,n[J]&s||(N.value=v(N.value,c[J]));if(++I>=r)break;M=a(b[I])}P()}while(D<z)f[u[D]=p]=t[D++],P();if(p>D)for(D=0;D<q;++D)j[D]=u[j[D]];J=o.indexOf(A),p>1?(A=E,B=G):(p===1?(A=F,B=H):(A=g.nil,B=g.nil),j=null),o[J]=A}function E(a,b,d){if(a===r||C)return;var e,g,h,i;for(e=0,h=b.length;e<h;++e)n[g=b[e]]&s||(i=f[j[g]],i.value=w(i.value,c[g]));for(e=0,h=d.length;e<h;++e)(n[g=d[e]]&s)===a&&(i=f[j[g]],i.value=x(i.value,c[g]))}function F(a,b,d){if(a===r||C)return;var e,g,h,i=f[0];for(e=0,h=b.length;e<h;++e)n[g=b[e]]&s||(i.value=w(i.value,c[g]));for(e=0,h=d.length;e<h;++e)(n[g=d[e]]&s)===a&&(i.value=x(i.value,c[g]))}function G(){var a,b;for(a=0;a<p;++a)f[a].value=y();for(a=0;a<d;++a)n[a]&s||(b=f[j[a]],b.value=w(b.value,c[a]))}function H(){var a,b=f[0];b.value=y();for(a=0;a<d;++a)n[a]&s||(b.value=w(b.value,c[a]))}function I(){return C&&(B(),C=!1),f}function J(a){var b=q(I(),0,f.length,a);return v.sort(b,0,b.length)}function K(a,c,d){return w=a,x=c,y=d,C=!0,b}function L(){return K(g.reduce.increment,g.reduce.decrement,g.zero)}function M(a){return K(g.reduce.add(a),g.reduce.subtract(a),g.zero)}function N(a){function c(b){return a(b.value)}return q=e.heap.select(c),v=e.heap(c),b}function O(){return N(h)}function P(){return p}var b={top:J,all:I,reduce:K,reduceCount:L,reduceSum:M,order:N,orderNatural:O,size:P},f,j,l=8,m=k(l),p=0,q,v,w,x,y,A=g.nil,B=g.nil,C=!0;return arguments.length<1&&(a=h),o.push(A),z.push(D),D(t,u,0,d),L().orderNatural()}function N(){var a=L(g.nil),b=a.all;return delete a.all,delete a.top,delete a.order,delete a.orderNatural,delete a.size,a.value=function(){return b()[0].value},a}var q={filter:F,filterExact:G,filterRange:H,filterAll:I,top:J,bottom:K,group:L,groupAll:N},r=1<<l++,s=~r,t,u,v,w,x=f.quicksort(function(a){return v[a]}),y=g.filter.all,z=[],A=0,B=0;return p.unshift(C),p.push(D),l>m&&(n=e.arrayWiden(n,m<<=1)),C(c,0,d),D(c,0,d),q}function s(){function j(a,f,g){var h;if(i)return;for(h=f;h<d;++h)n[h]||(b=e(b,c[h]))}function k(a,d,g){var h,j,k;if(i)return;for(h=0,k=d.length;h<k;++h)n[j=d[h]]||(b=e(b,c[j]));for(h=0,k=g.length;h<k;++h)n[j=g[h]]===a&&(b=f(b,c[j]))}function l(){var a;b=h();for(a=0;a<d;++a)n[a]||(b=e(b,c[a]))}function m(b,c,d){return e=b,f=c,h=d,i=!0,a}function q(){return m(g.reduce.increment,g.reduce.decrement,g.zero)}function r(a){return m(g.reduce.add(a),g.reduce.subtract(a),g.zero)}function s(){return i&&(l(),i=!1),b}var a={reduce:m,reduceCount:q,reduceSum:r,value:s},b,e,f,h,i=!0;return o.push(k),p.push(j),j(c,0,d),q()}function t(){return d}var a={add:q,dimension:r,groupAll:s,size:t},c=[],d=0,l=0,m=8,n=e.array8(0),o=[],p=[];return arguments.length?q(arguments[0]):a},b.version=d,b.permute=g.permute,b.bisect=g.bisect(h),b.bisect.by=g.bisect,b.heap=e.heap(h),b.heap.by=e.heap,b.heapselect=e.heap.select(h),b.heapselect.by=e.heap.select,b.insertionsort=f.insertionsort(h),b.insertionsort.by=f.insertionsort,b.quicksort=f.quicksort(h),b.quicksort.by=f.quicksort,typeof window!="undefined"&&(window.crossfilter=b)}),a("crossfilter",function(a,b,c){c.exports=a("crossfilter/index")})})();